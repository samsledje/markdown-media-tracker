@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global background and overscroll fixes to avoid white gaps when scrolling */
html, body, #root {
	height: 100%;
	min-height: 100%;
}

/* Apply the same background as the app container to the page so overscroll doesn't reveal white.
	 Put a solid background-color fallback on html for browsers that may show it during bounce. */
html {
	background-color: #0f172a; /* solid fallback to avoid white flash */
	background-image: linear-gradient(135deg, #0f172a 0%, #0b1220 50%, #0f172a 100%);
	background-attachment: fixed;
}

body {
	background: transparent; /* background provided by html to avoid double-paint issues */
	color: #0f172a;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	-webkit-overflow-scrolling: touch;
	/* Ensure minimum 16px font size on mobile */
	font-size: 16px;
	line-height: 1.6;
}

/* Ensure the root app element expands to full height so the background is continuous */
#root {
	min-height: 100vh;
}

/* Mobile responsive typography */
@media (max-width: 640px) {
	body {
		font-size: 16px; /* Prevent zoom on iOS */
		line-height: 1.6;
	}
	
	/* Prevent horizontal scroll on small screens */
	html, body {
		overflow-x: hidden;
	}
}

/* Touch-friendly targets - ensure minimum 44x44px */
@media (max-width: 768px) {
	button, input, select, textarea, [role="button"] {
		min-height: 44px;
	}
	
	/* Remove hover effects on touch devices */
	@media (hover: none) {
		button:hover, 
		[role="button"]:hover,
		.hover\:bg-slate-700:hover,
		.hover\:bg-slate-600:hover,
		.hover\:border-slate-600:hover,
		.hover\:border-purple-500:hover {
			background-color: inherit;
			border-color: inherit;
		}
	}
}

/* Custom slider styling to match theme colors */
input[type="range"].slider {
	-webkit-appearance: none;
	appearance: none;
	background: transparent;
	cursor: pointer;
}

/* Webkit browsers (Chrome, Safari, Edge) */
input[type="range"].slider::-webkit-slider-thumb {
	-webkit-appearance: none;
	appearance: none;
	height: 20px;
	width: 20px;
	border-radius: 50%;
	background: color-mix(in srgb, var(--mt-highlight) 85%, #000000 15%);
	border: 2px solid var(--mt-highlight);
	cursor: pointer;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
	transition: all 0.2s ease;
}

input[type="range"].slider::-webkit-slider-thumb:hover {
	transform: scale(1.1);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

/* Firefox */
input[type="range"].slider::-moz-range-thumb {
	height: 20px;
	width: 20px;
	border-radius: 50%;
	background: color-mix(in srgb, var(--mt-highlight) 85%, #000000 15%);
	border: 2px solid var(--mt-highlight);
	cursor: pointer;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
	transition: all 0.2s ease;
}

input[type="range"].slider::-moz-range-thumb:hover {
	transform: scale(1.1);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}